<!--
// Copyright (C) 2019-24  Marcus Rickert
//
// See https://github.com/marcus67/little_brother
// This program is free software; you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation; either version 3 of the License, or
// (at your option) any later version.
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
// You should have received a copy of the GNU General Public License along
// with this program; if not, write to the Free Software Foundation, Inc.,
// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
-->

<FORM [formGroup]="userRowForm" (ngSubmit)="updateUser()">
    <DIV CLASS="row bg-secondary-subtle">
        <DIV CLASS="col col-3 col-lg-3 locale-text">
            <A [id]="'button-detail-' + (user?.id || '')"  [routerLink]="['/users', user?.id]">{{ user?.full_name() }}</A>
        </DIV>
        <DIV CLASS="col col-6 col-lg-6 locale-text">
            <DIV [innerHTML]="getUserSummary(user)"></DIV>
        </DIV>
        <DIV CLASS="col col-2 col-lg-2 locale-text">
            <input id="active" type="checkbox" formControlName="active" [class]="'input-active'"
            (change)="updateUser()">
        </DIV>
        <DIV CLASS="col col-1 col-lg-1 locale-text">
            <BUTTON (click)="openModal()" class="btn btn-time-extension-minus"
                    title="Remove user '{{ user?.full_name() }}' from monitoring.">
                <I class="fas fa-trash"></I>
            </BUTTON>
            <app-confirm-dialog (confirmed)="onActionConfirmed($event)" 
            [message]="'Really remove user from monitoring? This will result in the removal of all configurations (rulesets and devices) for the user.'" ></app-confirm-dialog>
        </DIV>
    </DIV>
</FORM>

